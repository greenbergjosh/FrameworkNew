<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>American Survey</title>
</head>
<body>
  <div id="app">
      <h1>American Survey</h1>
      <h3>This is the full American survey!</h3>
  </div>
  <form>
    <h1>Question 1</h1>
    <h3>What is your favorite salad dressing?</h3>
    <button type="button" onclick="reportAnswer(1, 1)">Ranch</button>
    <button type="button" onclick="reportAnswer(1, 2)">Italian</button>
    <button type="button" onclick="reportAnswer(1, 3)">Cesar</button>
    <button type="button" onclick="reportAnswer(1, 4)">Garlic</button>
  </form>
  <form>
    <h1>Question 2</h1>
    <h3>How many children do you have?</h3>
    <input type="number" name="nbChildren" min="1" max="5">
    <button type="button" onclick="reportAnswer(2, document.getElementsByName('nbChildren')[0].value)">Next</button>
  </form>
  <form>
    <h1>Question 3</h1>
    <h3>Do you have a car?</h3>
    <input type="radio" name="hasCar" value="false" onchange="radioChanged()" checked>No
    <input type="radio" name="hasCar" value="true" onchange="radioChanged()">Yes<br>
    <br/>
    <div>
      <label for="brand">Brand</label>
      <input type="text" name="brand" disabled></input>
    </div>
    <div>
      <label for="model">Model</label>
      <input type="text" name="model" disabled></input>
    </div>
    <div>
      <label for="brand">Year</label>
      <input type="number" name="year" min="1886" max="2019" disabled></input>
    </div>
    <br/>
    <button type="button" onclick="report()">Next</button>
  </form>
  <form>
    <h1>Question 4</h1>
    <h3>What is your date of birth?</h3>
    <input type="date" id="start" name="dateOfBirth" >
    <button type="button" onclick="reportAnswer(4, document.getElementsByName('dateOfBirth')[0].value)">Done</button>
  </form>
<script type="text/javascript">
  var radioChanged = function() {
    var disabled = !(document.querySelector('input[name="hasCar"]:checked').value == "true");
    document.getElementsByName("brand")[0].disabled = disabled;
    document.getElementsByName("model")[0].disabled = disabled;
    document.getElementsByName("year")[0].disabled = disabled;
  };

  var report = function() {
    var hasCar = document.querySelector('input[name="hasCar"]:checked').value == "true";
    reportAnswer(3, hasCar);
  };

  window.onload = function() {
    reportDomain('domain1', '46D13674-95C8-4CD0-A21A-2EFA513FB8B4', function() {
      reportSurvey('AmericanSurvey', 'American', function() {
        reportQuestion(null, 1, function() {
          reportQuestion(null, 2, function() {
            reportQuestion(null, 3, function() {
              reportQuestion(null, 4, function(){
                reportAnswersImpression();
              });
            });
          });
        });
      });
    });
  };
</script>
<script type="text/javascript" src="test.js?a9103bc220495899e108"></script>
</body>
</html>