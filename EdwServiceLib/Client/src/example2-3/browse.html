<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Landing</title>
</head>
<body>
  <h1>Choose a question</h1>
  
  <div>
    <h2>Browse</h2>
    <a class="link" href="q1.html">Question 1</a>
    <br />
    <a class="link" href="q2.html">Question 2</a>
    <br />
    <a class="link" href="q3.html">Question 3</a>
    <br />
    <a class="link" href="q4.html">Question 4</a>
    <br />
    <a href="smartPath.html">SmartPath</a>
    <br />
  </div>
  
  <script type="text/javascript">
    window.onload = function() {
      var survey = edw.getUrlParameter('survey');
      var domain = edw.getUrlParameter('domain');

      Array.from(document.getElementsByClassName("link")).forEach(element => {
        edw.forwardUrlParams(element);
      });

      var config = {
        rs: {
            clicks: {
            configId: 'A0465746-CC44-4F66-B9FB-66EDE6619B47',
            type: 'Immediate',
            data: {
              domain: domain
            }
          }
        },
        st: {
            session: {},
            grp1: {
              pageOrder: 'page+',
              page: document.title,
            }
          }
        };

        config.st[survey] = {
        surveyId: survey,
        onPush: [
          {
            rs: ['clicks'],
            key: ['event'],
            data: {
              event: 'impression',
              page: '{page}',
              pageOrder: '{pageOrder}',
              surveyId: '{surveyId}'
            }
          }
        ]
      };

      edw.reportToEdw(config);
    };
  </script>
</body>
</html>